<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sen3AI - Admin Settings</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>🔧 Sen3AI Admin Settings</h1>
            <p>Configure risk assessment parameters and system settings</p>
        </header>

        <div class="admin-content">
            <section class="settings-section">
                <h2>📊 Risk Assessment Parameters</h2>
                
                <div class="setting-group">
                    <h3>24h Volume Thresholds (USD)</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="volume-low">Low Risk (>):</label>
                            <input type="number" id="volume-low" placeholder="1000000">
                            <span class="unit">USD</span>
                        </div>
                        <div class="input-group">
                            <label for="volume-medium">Medium Risk (100k - 1M):</label>
                            <input type="number" id="volume-medium" placeholder="100000">
                            <span class="unit">USD</span>
                        </div>
                        <div class="input-group">
                            <label for="volume-high">High Risk (<):</label>
                            <input type="number" id="volume-high" placeholder="100000">
                            <span class="unit">USD</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Holders Count Thresholds</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="holders-low">Low Risk (>):</label>
                            <input type="number" id="holders-low" placeholder="2000">
                            <span class="unit">holders</span>
                        </div>
                        <div class="input-group">
                            <label for="holders-medium">Medium Risk (300 - 2000):</label>
                            <input type="number" id="holders-medium" placeholder="300">
                            <span class="unit">holders</span>
                        </div>
                        <div class="input-group">
                            <label for="holders-high">High Risk (<):</label>
                            <input type="number" id="holders-high" placeholder="300">
                            <span class="unit">holders</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>AMLBot Score Thresholds (%)</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="amlbot-low">Low Risk (≤):</label>
                            <input type="number" id="amlbot-low" placeholder="30">
                            <span class="unit">%</span>
                        </div>
                        <div class="input-group">
                            <label for="amlbot-medium">Medium Risk (31 - 70):</label>
                            <input type="number" id="amlbot-medium" placeholder="70">
                            <span class="unit">%</span>
                        </div>
                        <div class="input-group">
                            <label for="amlbot-high">High Risk (>):</label>
                            <input type="number" id="amlbot-high" placeholder="70">
                            <span class="unit">%</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Top 3 Clusters Percentage (%)</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="clusters-low">Low Risk (<):</label>
                            <input type="number" id="clusters-low" placeholder="20">
                            <span class="unit">%</span>
                        </div>
                        <div class="input-group">
                            <label for="clusters-medium">Medium Risk (20 - 50):</label>
                            <input type="number" id="clusters-medium" placeholder="50">
                            <span class="unit">%</span>
                        </div>
                        <div class="input-group">
                            <label for="clusters-high">High Risk (50 - 80):</label>
                            <input type="number" id="clusters-high" placeholder="80">
                            <span class="unit">%</span>
                        </div>
                        <div class="input-group">
                            <label for="clusters-critical">Critical Risk (>):</label>
                            <input type="number" id="clusters-critical" placeholder="80">
                            <span class="unit">%</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Connected Wallets Threshold</h3>
                    <div class="input-group">
                        <label for="connected-wallets">Top % share same cluster (risky flag):</label>
                        <input type="number" id="connected-wallets" placeholder="50">
                        <span class="unit">%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Token Age Thresholds (days)</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="age-low">Low Risk (>):</label>
                            <input type="number" id="age-low" placeholder="30">
                            <span class="unit">days</span>
                        </div>
                        <div class="input-group">
                            <label for="age-medium">Medium Risk (7 - 30):</label>
                            <input type="number" id="age-medium" placeholder="7">
                            <span class="unit">days</span>
                        </div>
                        <div class="input-group">
                            <label for="age-high">High Risk (<):</label>
                            <input type="number" id="age-high" placeholder="7">
                            <span class="unit">days</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Market Cap Thresholds (USD)</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="marketcap-low">Low Risk (>):</label>
                            <input type="number" id="marketcap-low" placeholder="100000000">
                            <span class="unit">USD</span>
                        </div>
                        <div class="input-group">
                            <label for="marketcap-medium">Medium Risk (10M - 100M):</label>
                            <input type="number" id="marketcap-medium" placeholder="10000000">
                            <span class="unit">USD</span>
                        </div>
                        <div class="input-group">
                            <label for="marketcap-high">High Risk (1M - 10M):</label>
                            <input type="number" id="marketcap-high" placeholder="1000000">
                            <span class="unit">USD</span>
                        </div>
                        <div class="input-group">
                            <label for="marketcap-critical">Critical Risk (<):</label>
                            <input type="number" id="marketcap-critical" placeholder="1000000">
                            <span class="unit">USD</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Fully Diluted Valuation (vs Market Cap)</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="fdv-low">Low Risk (<):</label>
                            <input type="number" id="fdv-low" placeholder="3">
                            <span class="unit">x</span>
                        </div>
                        <div class="input-group">
                            <label for="fdv-medium">Medium Risk (3x - 10x):</label>
                            <input type="number" id="fdv-medium" placeholder="10">
                            <span class="unit">x</span>
                        </div>
                        <div class="input-group">
                            <label for="fdv-high">High Risk (>):</label>
                            <input type="number" id="fdv-high" placeholder="10">
                            <span class="unit">x</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Twitter Mentions Thresholds</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="twitter-low">Low Risk (>):</label>
                            <input type="number" id="twitter-low" placeholder="5000">
                            <span class="unit">mentions/7d</span>
                        </div>
                        <div class="input-group">
                            <label for="twitter-high">High Risk (<):</label>
                            <input type="number" id="twitter-high" placeholder="500">
                            <span class="unit">mentions/7d</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Social Media Risk Thresholds</h3>
                    <div class="threshold-inputs">
                        <div class="input-group">
                            <label for="engagement-ratio">Bot Risk Threshold (<):</label>
                            <input type="number" id="engagement-ratio" placeholder="0.3" step="0.1" min="0" max="1">
                            <span class="unit">engagement ratio</span>
                        </div>
                        <div class="input-group">
                            <label for="scam-keywords">Red Flag Threshold (>):</label>
                            <input type="number" id="scam-keywords" placeholder="5">
                            <span class="unit">scam keywords/7d</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="settings-section">
                <h2>⚙️ System Configuration</h2>
                
                <div class="setting-group">
                    <h3>Server Settings</h3>
                    <div class="input-group">
                        <label for="server-port">Port:</label>
                        <input type="number" id="server-port" placeholder="3000">
                    </div>
                    <div class="input-group">
                        <label for="log-level">Log Level:</label>
                        <select id="log-level">
                            <option value="debug">Debug</option>
                            <option value="info">Info</option>
                            <option value="warn">Warning</option>
                            <option value="error">Error</option>
                        </select>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>API Settings</h3>
                    <div class="input-group">
                        <label for="api-timeout">Default Timeout (ms):</label>
                        <input type="number" id="api-timeout" placeholder="8000">
                    </div>
                    <div class="input-group">
                        <label for="api-retries">Retry Attempts:</label>
                        <input type="number" id="api-retries" placeholder="3">
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Data Providers</h3>
                    <div class="provider-list" id="provider-list">
                        <!-- Providers will be loaded dynamically -->
                    </div>
                </div>

                <div class="setting-group">
                    <h3>OpenAI Configuration</h3>
                    <div class="input-group">
                        <label>System Prompt Preview:</label>
                        <a href="/info/prompt" target="_blank" class="btn btn-secondary" style="display: inline-block; margin-top: 5px;">
                            🔍 View Current System Prompt
                        </a>
                        <small style="display: block; margin-top: 5px; color: #666;">
                            Opens in new tab. Shows the current system prompt with configuration values prefilled.
                        </small>
                    </div>
                </div>
            </section>

            <section class="actions-section">
                <div class="action-buttons">
                    <button type="button" id="load-config" class="btn btn-secondary">📥 Load Current Config</button>
                    <button type="button" id="save-config" class="btn btn-primary">💾 Save Configuration</button>
                    <button type="button" id="reset-defaults" class="btn btn-warning">🔄 Reset to Defaults</button>
                    <button type="button" id="back-to-main" class="btn btn-secondary">🏠 Back to Main</button>
                </div>
            </section>

            <div id="status-message" class="status-message"></div>
        </div>
    </div>

    <script src="admin-script.js"></script>
</body>
</html> 